{"ast":null,"code":"import React,{useState}from\"react\";import Papa from\"papaparse\";import{useNavigate}from\"react-router-dom\";import Snackbar from\"@mui/material/Snackbar\";import Alert from\"@mui/material/Alert\";import Slide from\"@mui/material/Slide\";import{getContactInStorage,getCookie,setContactInStorage}from\"../Services/storage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ImportCSV(){const[openSnackbar,setOpenSnackbar]=useState(false);const vertical=\"top\";const horizontal=\"right\";const navigate=useNavigate();const activeUserId=getCookie();function handleNavigate(){navigate(\"/home/contacts\");}const handleFile=event=>{setOpenSnackbar(prev=>true);Papa.parse(event.target.files[0],{complete:function(result){const data=[];result.data.map(d=>{return data.push({name:d[0],email:d[1],number:d[2],avatar:d[3],contactId:d[4]});});data.shift();const contacts=getContactInStorage([activeUserId]);data.map(d=>{return contacts.push(d);});setContactInStorage([activeUserId],contacts);setTimeout(handleNavigate,1500);}});};const handleClose=(event,reason)=>{if(reason===\"click-away\"){return;}setOpenSnackbar(false);};function TransitionLeft(props){return/*#__PURE__*/_jsx(Slide,{...props,direction:\"left\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Snackbar,{open:openSnackbar,autoHideDuration:3000,onClose:handleClose,TransitionComponent:TransitionLeft,anchorOrigin:{vertical,horizontal},children:/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:\"success\",sx:{width:\"100%\"},children:\"Contacts imported Successfully!\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Please upload the \",/*#__PURE__*/_jsx(\"span\",{className:\"csv\",children:\".CSV\"}),\" file to import\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file\",accept:\".csv\",onChange:handleFile})]})]});}","map":{"version":3,"names":["React","useState","Papa","useNavigate","Snackbar","Alert","Slide","getContactInStorage","getCookie","setContactInStorage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ImportCSV","openSnackbar","setOpenSnackbar","vertical","horizontal","navigate","activeUserId","handleNavigate","handleFile","event","prev","parse","target","files","complete","result","data","map","d","push","name","email","number","avatar","contactId","shift","contacts","setTimeout","handleClose","reason","TransitionLeft","props","direction","children","open","autoHideDuration","onClose","TransitionComponent","anchorOrigin","severity","sx","width","className","type","accept","onChange"],"sources":["C:/Users/WO/Desktop/WEB-DEV/Webosmotic-Intern/CLICK_UP_TASKS/REACT/contact-app/src/Components/ImportCSV.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Papa from \"papaparse\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport Alert from \"@mui/material/Alert\";\r\nimport Slide from \"@mui/material/Slide\";\r\nimport {\r\n  getContactInStorage,\r\n  getCookie,\r\n  setContactInStorage,\r\n} from \"../Services/storage\";\r\n\r\nexport default function ImportCSV() {\r\n  const [openSnackbar, setOpenSnackbar] = useState(false);\r\n  const vertical = \"top\";\r\n  const horizontal = \"right\";\r\n  const navigate = useNavigate();\r\n  const activeUserId = getCookie();\r\n  function handleNavigate() {\r\n    navigate(\"/home/contacts\");\r\n  }\r\n  const handleFile = (event) => {\r\n    setOpenSnackbar((prev) => true);\r\n    Papa.parse(event.target.files[0], {\r\n      complete: function (result) {\r\n        const data = [];\r\n        result.data.map((d) => {\r\n          return data.push({\r\n            name: d[0],\r\n            email: d[1],\r\n            number: d[2],\r\n            avatar: d[3],\r\n            contactId: d[4],\r\n          });\r\n        });\r\n        data.shift();\r\n        const contacts = getContactInStorage([activeUserId]);\r\n        data.map((d) => {\r\n          return contacts.push(d);\r\n        });\r\n        setContactInStorage([activeUserId], contacts);\r\n        setTimeout(handleNavigate, 1500);\r\n      },\r\n    });\r\n  };\r\n  const handleClose = (event, reason) => {\r\n    if (reason === \"click-away\") {\r\n      return;\r\n    }\r\n    setOpenSnackbar(false);\r\n  };\r\n\r\n  function TransitionLeft(props) {\r\n    return <Slide {...props} direction=\"left\" />;\r\n  }\r\n  return (\r\n    <>\r\n      <Snackbar\r\n        open={openSnackbar}\r\n        autoHideDuration={3000}\r\n        onClose={handleClose}\r\n        TransitionComponent={TransitionLeft}\r\n        anchorOrigin={{ vertical, horizontal }}\r\n      >\r\n        <Alert onClose={handleClose} severity=\"success\" sx={{ width: \"100%\" }}>\r\n          Contacts imported Successfully!\r\n        </Alert>\r\n      </Snackbar>\r\n      <div className=\"App\">\r\n        <h3>\r\n          Please upload the <span className=\"csv\">.CSV</span> file to import\r\n        </h3>\r\n        <input\r\n          type=\"file\"\r\n          name=\"file\"\r\n          accept=\".csv\"\r\n          onChange={handleFile}\r\n        ></input>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}